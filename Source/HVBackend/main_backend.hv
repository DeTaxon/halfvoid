

CompileAndRunCode := !(BoxFuncBody^ funcToRun) -> InterpWork^
{
	@once {
		startFunc := intGetFunc("CallStartFunctions")
		CompileAndRunCodeInner(startFunc->{BoxFuncBody^})
	}
	return CompileAndRunCodeInner(funcToRun)
}

CompileAndRunCodeInner := !(BoxFuncBody^ funcToRun) -> InterpWork^
{
	result = new InterpWork(CurrentTask)
	CurrentWork = result

	fnc := GInterpCntx.GetMCFunc(funcToRun)
	MCInterpFunction(GInterpCntx&,fnc)

	CurrentWork->{InterpWork^}.isDone = true
	CurrentWork = null
}
