

CompileAndRunCode := !(BoxFuncBody^ funcToRun) -> void
{
	fnc := funcToRun.CreateMCFunction()

	builder := MCBuildContext_x86_64 

	builder.Compile(fnc)

	bigMem := PageMemory
	bigMem.Create(8*1024*1024,"rwe")
	
	stream := ref builder.ResultData

	stream.Read(bigMem.GetPointer(),bigMem.Size())

	ptr := bigMem.GetPointer()->{!(int)^->int}
	testVal := ptr(165)

	printf("hey %i\n",testVal)
	exit(0)
}
